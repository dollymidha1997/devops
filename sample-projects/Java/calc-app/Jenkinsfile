

pipeline {
    agent any
    stages {
        stage('checkout'){
            steps{
                git 'https://github.com/nagabhushanamn/devops'
            }
        }
        stage('build: compile'){
           steps{
               sh 'mvn -f ./sample-projects/Java/calc-app/pom.xml clean compile'
           }
        }   
        stage('build: test'){
           steps{
               sh 'mvn -f ./sample-projects/Java/calc-app/pom.xml test'
           }
        }   
         stage('build: package'){
           steps{
               sh 'mvn -f ./sample-projects/Java/calc-app/pom.xml package'
           }
        }   
    }
    post{
        always{
            junit 'sample-projects/Java/calc-app/**/surefire-*/TEST-*.xml'
        }
    }

}
    
    